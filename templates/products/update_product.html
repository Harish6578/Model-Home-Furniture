{% extends 'base/base.html' %}

{% block title %}
Edit Product
{% endblock %}

{% block content %}

<style>
/* ===============================
   EDIT PRODUCT PAGE WRAPPER
   =============================== */

#product-detail-section {
  background: linear-gradient(135deg, #fdfdfd, #fff4ec) !important;
  border-radius: 24px !important;
  padding: 2.8rem !important;
}

/* ===============================
   LEFT: CAROUSEL PANEL
   =============================== */

#product-detail-section .col-lg-6:first-child {
  background: #0f0f0f !important;
  border-radius: 24px !important;
  padding: 1rem !important;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.45) !important;
}

/* ===============================
   RIGHT: EDIT PRODUCT CARD
   =============================== */

.product-info {
  background: #ffffff !important;
  border-radius: 24px !important;
  padding: 2.2rem !important;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15) !important;
  position: relative !important;
}

/* Accent bar */
.product-info::before {
  content: "" !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  height: 6px !important;
  width: 100% !important;
  border-radius: 24px 24px 0 0 !important;
}

/* ===============================
   THUMBNAIL PREVIEW
   =============================== */

.product-thumbnail {
  width: 160px !important;
  height: 160px !important;
  object-fit: cover !important;
  border-radius: 16px !important;
  border: 1px solid #eee !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25) !important;
  transition: transform 0.35s ease !important;
}

.product-thumbnail:hover {
  transform: scale(1.05) !important;
}

/* ===============================
   TITLE
   =============================== */

.product-title {
  font-weight: 800 !important;
  letter-spacing: 0.5px !important;
}

/* ===============================
   FORM ELEMENTS
   =============================== */

.product-info form {
  margin-top: 1.5rem !important;
}

.product-info .form-control,
.product-info textarea,
.product-info select {
  border-radius: 14px !important;
  padding: 10px 14px !important;
  border: 1px solid #ddd !important;
  transition: border-color 0.3s ease, box-shadow 0.3s ease !important;
}

.product-info .form-control:focus,
.product-info textarea:focus,
.product-info select:focus {
  
  box-shadow: 0 0 0 0.15rem rgba(76, 175, 80, 0.25) !important;
}

/* ===============================
   ACTION BUTTONS
   =============================== */

.product-action-buttons .btn-success {
  background: linear-gradient(135deg, #2e7d32, #43a047) !important;
  border: none !important;
  font-weight: 600 !important;
  padding: 10px 24px !important;
  border-radius: 16px !important;
}

.product-action-buttons .btn-success:hover {
  background: linear-gradient(135deg, #388e3c, #66bb6a) !important;
}

.product-action-buttons .btn-secondary {
  border-radius: 16px !important;
  padding: 10px 24px !important;
}

/* ===============================
   MOBILE FRIENDLY
   =============================== */

@media (max-width: 768px) {
  #product-detail-section {
    padding: 1.6rem !important;
  }

  .product-info {
    padding: 1.6rem !important;
  }

  .product-thumbnail {
    width: 120px !important;
    height: 120px !important;
  }
}


</style>

<section id="product-detail-section" class="container py-5">
    <div class="row g-4 align-items-start">

        <!-- LEFT: Product Image Carousel -->
        <div class="col-lg-6">
            {% include 'products/includes/productImageCarousel.html' %}
        </div>

        <!-- RIGHT: Edit Product -->
        <div class="col-lg-6">
            <div class="product-info">

                <!-- Thumbnail (same as details page) -->
                {% if product.thumbnail %}
                    <img src="{{ product.thumbnail.url }}"
                         class="product-thumbnail mb-3"
                         alt="{{ product.title }}">
                {% endif %}

                <!-- Title -->
                <h2 class="product-title mb-3">
                    Edit {{ product.title }}
                </h2>

                <!-- Edit form -->
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}

                    <div class="d-flex gap-2 mt-3 product-action-buttons">
                        <button type="submit" class="btn btn-success">
                            Save Changes
                        </button>

                        <a href="{% url 'product_details' product.pk %}"
                           class="btn btn-secondary">
                            Cancel
                        </a>
                    </div>
                </form>

            </div>
        </div>

    </div>
</section>

{% endblock %}